jQuery(document).ready(function(c){var b=mailster_mce_button.l10n,a=mailster_mce_button.forms,d=mailster_mce_button.designs;tinymce.PluginManager.add("mailster_mce_button",function(f,e){f.addButton("mailster_mce_button",{title:b.title,type:"menubutton",icon:"icon mailster-shortcodes-icon",menu:[{text:b.forms,menu:c.map(a,function(g,h){return{text:g,onclick:function(){f.insertContent("[newsletter_signup_form id="+h+"]")}}})},{text:b.homepage.menulabel,onclick:function(){f.windowManager.open({title:b.homepage.title,body:[{type:"textbox",name:"pre",label:b.homepage.prelabel,value:b.homepage.pre},{type:"textbox",name:"confirm",label:b.homepage.confirmlabel,value:b.homepage.confirm},{type:"textbox",name:"unsub",label:b.homepage.unsublabel,value:b.homepage.unsub},{type:"listbox",name:"form",label:b.form,values:c.map(a,function(g,h){return{text:g,value:h}})}],onsubmit:function(g){f.insertContent("[newsletter_signup]"+g.data.pre+"[newsletter_signup_form id="+g.data.form+"][/newsletter_signup][newsletter_confirm]"+g.data.confirm+"[/newsletter_confirm][newsletter_unsubscribe]"+g.data.unsub+"[/newsletter_unsubscribe]")}})}},{text:b.button.menulabel,onclick:function(){f.windowManager.open({title:b.button.title,body:[{type:"textbox",name:"label",label:b.button.labellabel,value:b.button.label},{type:"checkbox",name:"count",label:" ",text:b.button.count,value:1},{type:"checkbox",name:"countabove",label:" ",text:b.button.countabove,value:1},{type:"listbox",name:"design",label:b.button.design,values:c.map(d,function(g,h){return{text:g,value:h}})},{type:"listbox",name:"form",label:b.form,values:c.map(a,function(g,h){return{text:g,value:h}})}],onsubmit:function(h){var g="[newsletter_button id="+h.data.form;g+=' label="'+h.data.label+'"';if(h.data.count){g+=' showcount="true"'}if("default"!=h.data.design||h.data.countabove){g+=' design="'+h.data.design+(h.data.countabove?" ontop":"")+'"'}g+="]";f.insertContent(g)}})}}]})})});